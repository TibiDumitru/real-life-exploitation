import logo from './logo.svg';
import './App.css';
import React, {useState} from 'react';
import {addCve, getCve} from './api';

function App() {
  const [cve, setCve] = useState({});
  const [cveId, setCveId] = useState('');

  const handleAddCve = () => {
    addCve({cve: 'CVE-2021-34527', name: 'Windows Print Spooler Remote Code Execution Vulnerability', prerequisites: []}).then(response => {
      console.log(response);
    });
  }

  const handleGetCve = () => {
    getCve(cveId).then(response => {
      setCve(response.data);
    });
  }

  return (
    <div>
      <button onClick={handleAddCve}>Add CVE</button>
      <input type='text' placeholder='Enter cve ID' onChange={e => setCveId(e.target.value)} />
      <button onClick={handleGetCve}>Get CVE</button>
      <div>
        {cve.name} - {cve.name}
      </div>
    </div>
  );
}

export default App;
